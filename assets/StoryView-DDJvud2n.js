import{d as x,r as y,a as n,c as w,o as r,b as t,w as c,F as S,e as T,f as v,n as $,g as h,t as V,u as b,T as j,h as B,i as A,j as I,_ as U}from"./index-DrMieM3O.js";import{u as C}from"./story-mFwDHMN7.js";const q="/jennyeverywhere.online/assets/001-UcwiZjcT.png",F={class:"d-flex justify-space-around"},M=x({__name:"FeedbackBar",setup(m){const a=y(""),l=y([]),i=y({upvote:{icon:"$upvote",color:"primary"},downvote:{icon:"$downvote",color:"error"}}),d=y({comment:{icon:"$comment",color:"secondary"},favorite:{icon:"$favorite",color:"quaternary"}});return(u,s)=>{const p=n("v-btn"),g=n("v-btn-toggle");return r(),w("div",F,[t(g,{modelValue:a.value,"onUpdate:modelValue":s[0]||(s[0]=o=>a.value=o),"selected-class":"opacity-100",class:"d-flex flex-row justify-space-around"},{default:c(()=>[(r(!0),w(S,null,T(i.value,(o,e)=>(r(),v(p,{key:e,value:e,icon:a.value===e?`${o.icon}`:`${o.icon}-off`,color:o.color,density:"compact",class:"opacity-10 mx-3",variant:"plain",ripple:!1},null,8,["value","icon","color"]))),128))]),_:1},8,["modelValue"]),t(g,{modelValue:l.value,"onUpdate:modelValue":s[1]||(s[1]=o=>l.value=o),"selected-class":"opacity-100",class:"d-flex flex-row justify-space-around",multiple:""},{default:c(()=>[(r(!0),w(S,null,T(d.value,(o,e)=>(r(),v(p,{key:e,value:e,color:o.color,density:"compact",variant:"plain",class:"opacity-10 mx-3",ripple:!1,multiple:"",icon:l.value.includes(e)?o.icon:`${o.icon}-off`},null,8,["value","color","icon"]))),128))]),_:1},8,["modelValue"])])}}}),E=x({__name:"StoryChoice",props:{icon:String,text:String,class:String,color:String,value:String,tags:Array,expand:Boolean},setup(m){return(a,l)=>{const i=n("v-icon"),d=n("v-spacer"),u=n("v-chip"),s=n("v-card-item"),p=n("v-card"),g=n("v-item");return r(),v(g,null,{default:c(({isSelected:o,selectedClass:e,toggle:_})=>[t(p,{hover:"",class:$(["story-choice border-s-lg  bg-background border-opacity-25",e,`border-${m.color}`,o?"border-e-lg":"border-e-none"]),onClick:_},{default:c(()=>[t(s,{density:"compact"},{prepend:c(()=>[t(i,{icon:m.icon,color:o?m.color:"text",class:$(o?null:"opacity-20")},null,8,["icon","color","class"])]),default:c(()=>[h(V(m.text)+" ",1),t(d),(r(!0),w(S,null,T(m.tags,(f,k)=>(r(),v(u,{key:k},{default:c(()=>[h(V(f),1)]),_:2},1024))),128))]),_:2},1024)]),_:2},1032,["class","onClick"])]),_:1})}}}),N=x({__name:"StoryChoiceGroup",setup(m){const a=C(),l=y(),i=d=>{const u=a.choices[d];a.tagMap.clearTags(),l.value!==void 0&&a.choices[l.value].tags.forEach(s=>{a.tagMap.addTag(new j(`${s}`,u.color,u.icon))})};return(d,u)=>{const s=n("v-col"),p=n("v-row"),g=n("v-item-group");return r(),v(g,{"selected-class":"rounded-s-lg border-s-lg bg-surface border-opacity-100",modelValue:l.value,"onUpdate:modelValue":[u[0]||(u[0]=o=>l.value=o),i]},{default:c(()=>[t(p,{dense:""},{default:c(()=>[(r(!0),w(S,null,T(b(a).choices,(o,e)=>(r(),v(s,{cols:"12",density:"compact",key:e},{default:c(()=>[t(E,{text:o.text,icon:o.icon,color:o.color},null,8,["text","icon","color"])]),_:2},1024))),128))]),_:1})]),_:1},8,["modelValue"])}}}),R=x({__name:"StoryRenderer",setup(m){const a=B(),l=C(),i=A(),d=I(()=>[...a.tags,...l.tags].filter((_,f,k)=>k.findIndex(D=>D.name===_.name)===f)),u=o=>{console.log("clickTag:",o)},s=(o,e,_)=>{console.log("clickIcon:",o,e,_)},p=o=>{var _,f;console.log("onDragStart",window);const e=(_=window.getSelection())==null?void 0:_.toString().trim();e&&(console.log("selectedText",e),(f=o.dataTransfer)==null||f.setData("text/plain",e)),i.dragStart()};function g(){let o="";if(window.getSelection){const e=window.getSelection();e&&(o=e.toString())}return console.log("openAddTagDialog",o),a.tempTag(o),i.add=!0,a.tempTag.name}return(o,e)=>{const _=n("v-sheet");return r(),v(_,{flat:"",class:"bg-transparent"},{default:c(()=>[t(U,{body:b(l).raw,name:b(l).title,tags:d.value,class:"story-body",onRightClick:e[0]||(e[0]=f=>g()),onDragstart:p,onClickTag:u,onClickIcon:s},null,8,["body","name","tags"])]),_:1})}}}),L=x({__name:"StoryView",setup(m){return(a,l)=>{const i=n("v-col"),d=n("v-img"),u=n("v-row"),s=n("v-container");return r(),v(s,null,{default:c(()=>[t(u,null,{default:c(()=>[t(i,{cols:"12",sm:"8"},{default:c(()=>[t(R)]),_:1}),t(i,{cols:"auto",sm:"4"},{default:c(()=>[t(d,{src:b(q),alt:"A glowing green portal","max-width":"512px"},null,8,["src"]),t(M)]),_:1}),t(i,{cols:"auto",sm:"8"},{default:c(()=>[t(N)]),_:1})]),_:1})]),_:1})}}});export{L as default};
