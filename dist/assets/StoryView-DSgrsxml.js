import{u as C,_ as j,s as F}from"./MarkdownRenderer.vue_vue_type_script_setup_true_lang-FNlLhpvq.js";import{d as y,r as s,o as i,c as v,w as n,a as e,n as k,b as h,t as S,e as f,F as w,f as V,g as x,u as $,h as p,_ as T,T as L,i as N,j as A}from"./index-6_Q8CB_L.js";const G=y({__name:"StoryChoice",props:{icon:String,text:String,class:String,color:String,value:String,tags:Array,expand:Boolean},setup(m){return(t,r)=>{const _=s("v-icon"),u=s("v-spacer"),c=s("v-chip"),o=s("v-card-item"),d=s("v-card"),g=s("v-item");return i(),v(g,null,{default:n(({isSelected:a,selectedClass:l,toggle:b})=>[e(d,{hover:"",class:k(["story-choice border-s-lg bg-background border-opacity-25",l,`border-${m.color}`]),onClick:b},{default:n(()=>[e(o,{density:"compact"},{prepend:n(()=>[e(_,{icon:m.icon,color:a?m.color:"text",class:k(a?null:"opacity-20")},null,8,["icon","color","class"])]),default:n(()=>[h(S(m.text)+" ",1),e(u),(i(!0),f(w,null,V(m.tags,(B,U)=>(i(),v(c,{key:U},{default:n(()=>[h(S(B),1)]),_:2},1024))),128))]),_:2},1024)]),_:2},1032,["class","onClick"])]),_:1})}}}),I=y({__name:"StoryChoiceGroup",setup(m){const t=C(),r=x(),_=$(),u=c=>{const o=t.choices[c],d=new L(`choice:${o.tags}`,o.color,o.icon);console.log(`choice:${o.tags}`,o.color,o.icon),console.log("tag:",d),t.tagMap.addTag(d)};return(c,o)=>{const d=s("v-col"),g=s("v-row"),a=s("v-item-group");return i(),f(w,null,[e(a,{"selected-class":"rounded-s-lg border-s-lg bg-surface border-opacity-100",modelValue:r.value,"onUpdate:modelValue":[o[0]||(o[0]=l=>r.value=l),u]},{default:n(()=>[e(g,{dense:""},{default:n(()=>[(i(!0),f(w,null,V(p(t).choices,(l,b)=>(i(),v(d,{cols:"12",density:"compact",key:b},{default:n(()=>[e(G,{text:l.text,icon:l.icon,color:l.color},null,8,["text","icon","color"])]),_:2},1024))),128))]),_:1})]),_:1},8,["modelValue"]),e(T,{tags:p(t).tags,noLabel:"",noValue:"",modelValue:p(_).selection,"onUpdate:modelValue":o[1]||(o[1]=l=>p(_).selection=l)},null,8,["tags","modelValue"])],64)}}}),M=y({__name:"StoryTagGroup",setup(m){const t=$();return(r,_)=>(i(),v(T,{tags:p(t).tags,noLabel:"",noValue:"",modelValue:p(t).selection,"onUpdate:modelValue":_[0]||(_[0]=u=>p(t).selection=u)},null,8,["tags","modelValue"]))}}),q={class:"d-flex justify-space-around"},z=y({__name:"FeedbackBar",setup(m){const t=x(""),r=x([]),_=x({upvote:{icon:"$upvote",color:"primary"},downvote:{icon:"$downvote",color:"error"}}),u=x({comment:{icon:"$comment",color:"secondary"},favorite:{icon:"$favorite",color:"quaternary"}});return(c,o)=>{const d=s("v-btn"),g=s("v-btn-toggle");return i(),f("div",q,[e(g,{modelValue:t.value,"onUpdate:modelValue":o[0]||(o[0]=a=>t.value=a),"selected-class":"opacity-100",class:"d-flex flex-row justify-space-around"},{default:n(()=>[(i(!0),f(w,null,V(_.value,(a,l)=>(i(),v(d,{key:l,value:l,icon:t.value===l?`${a.icon}`:`${a.icon}-off`,color:a.color,density:"compact",class:"opacity-10 mx-3",variant:"plain",ripple:!1},null,8,["value","icon","color"]))),128))]),_:1},8,["modelValue"]),e(g,{modelValue:r.value,"onUpdate:modelValue":o[1]||(o[1]=a=>r.value=a),"selected-class":"opacity-100",class:"d-flex flex-row justify-space-around",multiple:""},{default:n(()=>[(i(!0),f(w,null,V(u.value,(a,l)=>(i(),v(d,{key:l,value:l,color:a.color,density:"compact",variant:"plain",class:"opacity-10 mx-3",ripple:!1,multiple:"",icon:r.value.includes(l)?a.icon:`${a.icon}-off`},null,8,["value","color","icon"]))),128))]),_:1},8,["modelValue"])])}}}),D=y({__name:"StoryRenderer",setup(m){const t=$(),r=C();function _(){let c="";if(window.getSelection){const o=window.getSelection();o&&(c=o.toString())}return t.createTag(c),console.log(c),c}function u(){const c=t.tags.filter(d=>t.selection.includes(d.id)),o=r.linkTags(c,r.raw);return r.markitdown(o)}return(c,o)=>{const d=s("v-sheet");return i(),v(d,{flat:"",class:"bg-transparent",onContextmenu:o[0]||(o[0]=A(g=>_(),["right","prevent"]))},{default:n(()=>[N("h2",null,S(p(r).title),1),e(j,{markdown:u(),class:"story-body"},null,8,["markdown"])]),_:1})}}}),H=y({__name:"StoryView",setup(m){return(t,r)=>{const _=s("v-img"),u=s("v-col"),c=s("v-row"),o=s("v-container");return i(),v(o,null,{default:n(()=>[e(c,null,{default:n(()=>[e(u,{cols:"12",sm:"4"},{default:n(()=>[e(_,{src:p(F),alt:"A glowing green portal","max-width":"512px"},null,8,["src"]),e(z)]),_:1}),e(u,{cols:"12",sm:"8"},{default:n(()=>[e(D)]),_:1})]),_:1}),e(c,null,{default:n(()=>[e(u,{cols:"12",sm:"8"},{default:n(()=>[e(I)]),_:1}),e(u,{cols:"4"},{default:n(()=>[e(M)]),_:1})]),_:1})]),_:1})}}});export{H as default};
